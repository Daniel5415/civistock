{% extends "base.html" %}

{% block title %}Perfil del Administrador{% endblock %}

{% block content %}
<div class="page-container">
  <div class="profile-header">
    <h2><i class="fas fa-user-cog me-2"></i> Perfil del Administrador</h2>
  </div>

  <div class="mb-3">
    <a href="{{ url_for('admin.dashboard') }}" class="btn btn-secondary btn-back">
      <i class="fas fa-arrow-left me-1"></i> Volver al Dashboard
    </a>
  </div>

  <form method="POST" enctype="multipart/form-data" class="user-form">
    <div class="form-grid">
      <div class="field-group">
        <label for="username">Username</label>
        <input type="text" id="username" name="username" value="{{ usuario.username }}" readonly required>
      </div>

      <div class="field-group">
        <label for="nombre">Nombre completo</label>
        <input type="text" id="nombre" name="nombre" value="{{ usuario.nombre }}" required>
      </div>

      <div class="field-group">
        <label for="password">Contraseña <span class="small-text">(deja en blanco si no quieres cambiar)</span></label>
        <input type="password" id="password" name="password" placeholder="••••••••">
      </div>

      <div class="field-group avatar-group">
        <label>Foto actual</label>
        <div class="avatar-wrapper">
          {% if usuario.foto %}
            <img src="{{ url_for('static', filename='uploads/' ~ usuario.foto) }}" alt="Foto de {{ usuario.nombre }}" class="avatar-img">
          {% else %}
            <img src="{{ url_for('static', filename='uploads/default.png') }}" alt="Foto por defecto" class="avatar-img">
          {% endif %}
        </div>
      </div>

      <div class="field-group">
        <label for="foto">Actualizar foto <span class="small-text">(opcional)</span></label>
        <input type="file" id="foto" name="foto" accept="image/*">
      </div>
    </div>

<div class="form-actions">
  <button type="submit" class="btn btn-success">
    <i class="fas fa-save me-2"></i> Actualizar
  </button>
</div>
</form>
{% endblock %}
